<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Doodle Classification using Convolutional Neural Networks</title>
  <link rel="stylesheet" href="{{ url_for('static',filename='style.css') }}">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400" rel="stylesheet">
</head>


<body>
<h1>Doodle Classification using Convolutional Neural Networks</h1>

<canvas id="canvas" width="280" height="280" style="border:8px solid; float: left; margin: 45px; margin-top:130px;  border-radius: 5px; cursor: crosshair;"></canvas>

<div id="debug" style="margin:65px; margin-top:70px;">
  <br/>
  <span style="color: #4DAF7C; font-weight: 400; font-family: 'Open Sans', Helvetica;">Draw the Doodle inside this Box!</span>
</div>

<div style="margin-left:95px; margin-top:430px; float:left; position:absolute;">
  <a href="#" class="myButton"><span style=" font-weight: 400; font-family: 'Open Sans', Helvetica;	"> Predict </span></a>			
</div>

<div style="margin-left:225px; margin-top:430px; float:left; position:absolute;">
  <input class="clearButton" type="button" id="clearButton" value="Clear" style="">			
</div>

<div class="staticImage">
  <img src="../static/new.png" height="350px">
</div>

<div class="itemsList">
    <div class="row1">
        <span>axe</span>
        <span>boomerang</span>
        <span>candle</span>
        <span>donut</span>
        <span>envelope</span>
        <span>fish</span>
        <span>frying pan</span>
        <span>golf club</span>
        <span>headphones</span>
        <span>hourglass</span>
        <span>ice cream</span>
        <span>jail</span>
        <span>knife</span>
        <span>ladder</span>
    </div>
    <div class="row2">
        <span>mountain</span>
        <span>mushroom</span>
        <span>octagon</span>
        <span>pliers</span>
        <span>rain</span>
        <span>star</span>
        <span>see saw</span>
        <span>syringe</span>
        <span>triangle</span>
        <span>traffic light</span>
        <span>umbrella</span>
        <span>vase</span>
        <span>wine glass</span>
        <span>zigzag</span>
    </div>
</div>

<div>
  <h1 id="result" style="margin-right:20px; margin-top:400px;"></h1>
  <h1 id="similar" style="margin-right:20px; margin-top:440px;"></h1>
  <h1 id="similar-1" style="margin-right:20px; margin-top:470px;"></h1>
  <h1 id="similar-2" style="margin-right:20px; margin-top:495px;"></h1>
  <h1 id="similar-3" style="margin-right:20px; margin-top:520px;"></h1>
</div>

<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

<script src="{{ url_for('static',filename='index.js') }}"></script>

<script type="text/javascript">
  $(".myButton").click(function(){
  var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
  var canvasObj = document.getElementById("canvas");
  var img = canvasObj.toDataURL();
            $.ajax({
            type: "POST",
            url: $SCRIPT_ROOT + "/predict/",
            data: img,
            success: function(data){
                     $('#result').text("Predicted Output: "+ JSON.parse(data)["0"]);
                     $('#similar').text("Lesser Probable Possibilities:");
                     $('#similar-1').text(JSON.parse(data)["1"]);
                     $('#similar-2').text(JSON.parse(data)["2"]);
                     $('#similar-3').text(JSON.parse(data)["3"]);
                     }                     
                   });
                 });
</script>
</body>

</html>
